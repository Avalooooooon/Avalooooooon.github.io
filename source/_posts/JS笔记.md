---
title: JS笔记
updated: 2022-01-17 19:45:34
date: 2022-01-17 19:45:34
tags:
categories:
---

```javascript
console.time("计时器的名字");
console.timeEnd("计时器的名字"); 
console.log();

document.write();  // 实际上是通过超文本标记语言输出。比如想换行，document.write(1+"\n")不行，document.write(1+"<br />")才行。
var year =prompt("请输入年份"); //prompt()：弹出一个带文本框的提示框,需要字符串做参数，为提示文字。注意返回类型为String。

Math.sqrt(i); //开方
```

## 数据类型
基本数据类型：String Number Boolean Null Undefined
引用数据类型：Object
> 它们最主要的区别：基本数据类型在栈中保存的是值，引用数据类型在栈中保存的是地址。

使用```typeof a```查看```a```的数据类型。
转义字符：```\```。```\n ```:换行  ```\t```:制表符  ```\\```:斜杠“\”。
> 在字符串中使用转义字符输出Unicode编码：```\u四位编码```，如```console.log("\u2620")```。 
> 注意这里的四位编码是16进制。
> 在网页中使用Unicode编码：```&#十进制编码```，如```<p>&#9760;</p>```。 

1. String：双引号和单引号都行，但不要混着用；可以使用\作为转义字符
    + 引号需要成对出现，***不能嵌套***！
  
2. Number：包括整数和浮点数。
    + ```NaN```：特殊的数字，表示Not a Number
    + ```Number.MAX_VALUE```：最大数。比它大就是```Infinity```，都是字面量。
    + ```Number.MIN_VALUE```：最小正数。
    + 运算：整数基本保证精确。浮点元素运算可能不精确。
      
      > <span style="color:red">千万别用JS进行对精确度要求高的运算！</span>

3. Boolean

4. Null：专门表示一个为空的对象。使用```typeof```检查时返回```object```。

5. Undefined：声明了但没赋值的变量。使用```typeof```检查时返回```undefined```。

### 强制类型转换
类型转换主要指将其他数据类型转换为String Number Boolean。

1. 转换为String：
    + 调用被转换数据类型的```toString()```方法：```a = a.toString()```。
      null和undefined没有```toString()```方法。
      ***该方法不会影响原变量，它会将转换的结果返回。***

    + 调用```String()```函数：```a = String(a)```。
      ***该方法不会影响原变量，它会将转换的结果返回。***
2. 转换为Number：
    + 调用```Number()```函数：```a = Number(a)```。
      字符串类型有非数字的转为```NaN```，空串或者全是空格转为0。
      Null类型结果为0。
      Undefined类型、object类型结果为```NaN```。
      
        > 局限：对于```a = 123px```，想要进行```a + 10```这类情景不友好。
    + 一种专门解决字符串的方法
      ```parseInt()```函数：它可以将一个字符串中的 ***有效*** 整数拿出。可以用来取整。
      ```parseFloat()```函数：它可以将一个字符串中的 ***有效*** 小数拿出。
      如果是非String，会转换成string再处理。
      
      > 可以在parseInt()中传递一个第二个参数指定进制：```parseInt(a,10)```
  
3. 转换为Boolean：```Boolean()```函数
    + 数字：除了0和NaN都是```true```
    + 字符串：除了空串都是```true```
    + null和undefined都是```false```
    + 可以对任意数据类型取两次反转换为Boolean:```a = !!a```。

### 引用数据类型
+ 栈内存和堆内存
    + 栈内存：JS中的<span style="color:red">变量都保存到栈内存</span>，基本数据类型的<span style="color:red">值</span>直接在栈内存中存储。值与值之间是独立存在，修改一个变量不会影响其他变量。
    + 对象保存到堆内存中，每创建一个新的对象就会在堆内存中创建一个新的空间。这种情况下<span style="color:red">变量保存的是对象的内存地址（对象的引用）。</span>
      如果两个变量保存的是同一个对象引用，则当一个通过一个变量修改<span style="color:red">属性</span>时，另一个也会受到影响。如果直接修改变量的<span style="color:red">值</span>，比如```obj2 = null```，那么obj不受影响。
      当比较两个基本数据类型的值时，就是比较值；但两个引用数据类型比较的是对象的内存地址。

## 运算
任何数和NaN运算的结果都是```NaN```。
除拼串，对任何非Number的值会转换成Number。

### 算术运算
+ +：对两个字符串进行相加，是拼串。```var a = "123"+"456"```，结果为```123456```。事实上，***任何值和字符串相加都会转换成字符串并进行拼串操作***。

    > 隐式类型转换：可以利用这一特点将一个任意数据类型转换为```String```，只需要任意的数据类型 + 一个""即可：```a = a + ''```。

+ \-  \*  /：除了“ + ”的其他运算符号（-  *  /），在算式中出现的变量都会转化成数字再计算。
  
  > 隐式类型转换：可以利用这一特点将一个任意数据类型转换为```Number```，只需要任意的数据类型 ```-1```;```*1```;```/1```即可。原理和```Number()```一样，使用更简单。

+ 一元运算符：全换为Number类型再运算。```+ -```, 正号" + "不会对数字产生任何影响, 负号“-”可以对数字进行符号取反。 
  
  > 隐式类型转换：可以利用这一特点将一个任意数据类型转换为```Number```，只需要任意的数据类型 ```a = +a```即可。如```a = 1 + +a + 2```，此时a = 6。

### 逻辑运算
JS中的&& 和 || 是短路与/或而不是逻辑与/或。
对于非布尔值：会先将其转换为布尔值再运算，并且 ***返回原值*** 。
+ &&：两值运算，若第一个为true，返回第二个值；第一个为false，直接返回第一个值。
+ ||：两值运算，若第一个为true，直接返回第一个值；第一个为false，返回第二个值。

+ == 和 !=：（不）相等运算。若两个值类型不同，会转化成相同类型再比较，大部分情况是转化为数字。
    + Undefined衍生自null，所以这两个值作相等判断时会返回true
    + NaN不和包括它本身任何值相等。可以通过```isNaN()```函数判断一个值是否为NaN。
+ === 和 !==：（不）全等运算。和相等的区别在于它不会做类型转换。若类型不同直接返回。

###关系运算
```> >= < <= =```。会转化成数字再比较。
任何值和NaN比较都是false。
> 若比较符号的两侧都是字符串，不会转换为数字进行比较，而会分别比较字符串中的 ***Unicode编码***，一位一位比较，两位一样就比下一位。
> 如果比较两个字符类型的数字时，可能得到不可预期的结果。所以比较两个字符串类型的数字时，***一定要转型***。
> 可以利用该特性对英文排序。

### 条件运算
```条件表达式？语句1:语句2```。先执行条件运算符，判断执行语句1还是2，并返回执行结果。
若条件表达式的结果是非布尔值，会将其转化为布尔值再运算。

## 函数和代码块
一个```{}```中的内容称为一个代码块，一个代码块中的内容要么都执行，要么都不执行。
> JS中的代码块 ***只有分组作用***！块中的内容块外也完全可见，并不隔离。

### 条件判断/条件分支/switch/for语句
```javascript
// if语句
if(条件表达式){ 语句... }
else if{ 语句... }
else{ 语句... }

// switch语句。依次将case后的表达式和switch后的条件表达式进行全等比较。
switch(条件表达式){
  case 表达式；
    语句...
    break; 
  default:
    语句...
    break;
}

// while。判断一次执行一次。可以使用break终止循环。
while(条件表达式){ 语句... }
// do...while。执行一次判断一次。也就是while先判断再执行，do...while先执行再判断。do...while可以保证循环体至少执行一次。
do{ 语句... }while(条件表达式)

// for语句。
for(初始化表达式；条件表达式；更新表达式){ }
```

### ***break***和***continue***
可以为循环语句加上一个label标识当前循环。比如创建一个label为```outer```的循环：```outer:循环语句```

+ ```break outer```：结束循环。立即终止label=```outer```的循环。默认终止本 ***层*** 循环。
  
  > 只能对循环和switch语句使用!
  
+ ```continue outer```：跳过当 ***次*** 循环，继续下一次循环。其它和```break```一样。


## 对象
1. 内建对象：由ES标准中定义的对象。在任何ES的实现中均可使用。如Math String Number Boolean Function Object
2. 宿主对象：由JS的运行环境提供的对象。主要指由浏览器创造的对象。如BOM（浏览器对象模型） DOM（文档对象模型）。```console```、```document```也属于这一类。
3. 自建对象：由开发人员自己创建。


属性名和属性值是名值对。名与值之间使用 ```:``` 连接，多个名值对之间使用 ```,``` 隔开。对象中的最后一个属性之后不要写 ```,``` 。

读取对象中没有的属性，不会报错而是会返回```undefined```。
如果使用了特殊的属性名，需要用```对象["属性名"] = 属性值```的方式操作。

> <span style="color:red">使用[]操作对象更加灵活。在[]中可以直接传递一个变量，这样变量值是多少，就会读取变量值那个属性：</span>
>
> ```var n = "hi"; obj[n]="你好"; console.log(obj[n]);```输出“你好”。


```javascript

```

+ 删除属性：```delete 对象.属性名```。 



















